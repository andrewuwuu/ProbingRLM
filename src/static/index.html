<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProbingRLM â€¢ Document Analytics</title>
    <meta name="description" content="A powerful, recursive language model-driven tool for deep document reasoning.">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="background-elements">
        <div class="gradient-sphere sphere-1"></div>
        <div class="gradient-sphere sphere-2"></div>
    </div>
    
    <div class="app-container">
        <header class="glass-header">
            <h1>Probing<span>RLM</span></h1>
            <p>Recursive Reasoning Engine</p>
        </header>

        <main class="content-grid">
            <aside class="sidebar glass-panel">
                <h2>Configuration</h2>
                
                <div class="form-group">
                    <label for="document-select">Select Document</label>
                    <select id="document-select" multiple>
                    </select>
                    <small>Hold Ctrl/Cmd to select multiple</small>
                </div>

                <div class="form-group">
                    <label for="model-input">Model Name (optional)</label>
                    <input type="text" id="model-input" placeholder="e.g. gpt-4o-mini" autocomplete="off">
                </div>

                <div class="form-group toggle-group">
                    <label for="use-subagents" class="toggle-switch">
                        <input type="checkbox" id="use-subagents">
                        <span class="slider round"></span>
                    </label>
                    <span>Enable Subagents</span>
                </div>

                <div class="form-group subagent-options hidden" id="subagent-panel">
                    <label for="subagent-backend">Subagent Backend</label>
                    <input type="text" id="subagent-backend" placeholder="e.g. openai" autocomplete="off">
                    <label for="subagent-model">Subagent Model</label>
                    <input type="text" id="subagent-model" placeholder="e.g. gpt-4o" autocomplete="off">
                </div>

                <div class="form-group">
                    <label for="system-prompt">System Prompt</label>
                    <textarea id="system-prompt" rows="3" placeholder="Optional system instructions..."></textarea>
                </div>
            </aside>

            <section class="main-panel glass-panel">
                <div class="chat-container">
                    <div id="chat-history" class="chat-history">
                        <div class="welcome-message message system">
                            <strong>System:</strong> Ready. Select a document and enter your query. 
                            <br><em>Logs will be automatically saved to `rlm_logs/` for the RLMS Visualizer.</em>
                        </div>
                    </div>
                </div>
                
                <div class="input-area">
                    <textarea id="query-input" placeholder="Ask a question about the selected document(s)..." rows="3"></textarea>
                    <button id="submit-btn" class="primary-btn">
                        <span class="btn-text">Send Query</span>
                        <div class="spinner hidden" id="loading-spinner"></div>
                    </button>
                </div>
            </section>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>
